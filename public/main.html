<!DOCTYPE html>
<html lang="cn">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>航票购买系统</title>
    <link rel="stylesheet" type="text/css" href="css/mainWeb.css" />
  </head>

  <body>
    <div class="container">
      <div class="warp">
        <div class="nav">
          <span></span>
          <span></span>
          <span></span>
          <div class="" btn>
            <div class="btn-item"></div>
            <div class="btn-item"></div>
            <div class="btn-item"></div>
          </div>
          <div class="icon">
            <div class="icon-img">
              <img />
            </div>
            <div class="icon-con">
              <p>泥豪</p>
              <h2>(*^▽^*)</h2>
            </div>
          </div>
          <div class="line"></div>
          <div class="title">
            <p>菜单栏</p>
          </div>
          <div class="menu">
            <div class="item">
              <div class="light"></div>
              <div class="licon">
                <span>🛈</span>
              </div>
              <div class="con" href="#" id="personalinfo">个人信息</div>
              <div class="ricon"></div>
            </div>
            <div class="item">
              <div class="light"></div>
              <div class="licon">
                <span>🛪</span>
              </div>
              <div class="con" href="#" id="flightsearching">搜索航班</div>
              <div class="ricon"></div>
            </div>
            <div class="item">
              <div class="light"></div>
              <div class="licon">
                <span>☊</span>
              </div>
              <div class="con" href="#" id="userorder">我的订单</div>
              <div class="ricon"></div>
            </div>
            <div class="item">
              <div class="light"></div>
              <div class="licon">
                <span>❤</span>
              </div>
              <div class="con" href="#" id="userhistoryorder">历史订单</div>
              <div class="ricon"></div>
            </div>
            <div class="item">
              <div class="light"></div>
              <div class="licon">
                <span>✘</span>
              </div>
              <div class="con" href="#" id="changeinfo">修改信息</div>
              <div class="ricon"></div>
            </div>
            <div class="item">
              <div class="light"></div>
              <div class="licon">
                <span>✿</span>
              </div>
              <div class="con" href="#" id="teamtask">小组任务</div>
              <div class="ricon"></div>
            </div>
          </div>
          <div class="line"></div>
          <div class="title">
            <p>服务</p>
          </div>
          <div class="serve">
            <div class="item">
              <div class="licon">
                <span>✉︎</span>
              </div>
              <div class="con">客服通信</div>
              <div class="ricon"></div>
            </div>
            <div class="item">
              <div class="licon">
                <span>☎</span>
              </div>
              <div class="con">问题反馈</div>
              <div class="ricon"></div>
            </div>
            <div class="item">
              <div class="licon">
                <span>★</span>
              </div>
              <div class="con">个性设置</div>
              <div class="ricon"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 初始面板 -->
    <div id="window" class="popup-content">
      <span class="close-btn">&times;</span>
      <form id="personal-info" class="active">
        <div class="userinfotitle">
          <h3>欢迎来到航空系统~ <span id="username"></span></h3>
        </div>
        <div class="line"></div>
        <div class="userinfo">
          <p>真实姓名: <span id="realName"></span></p>
          <p>性别: <span id="sex"></span></p>
          <p>生日: <span id="age"></span></p>
          <p>手机: <span id="phone"></span></p>
          <p>邮箱: <span id="email"></span></p>
        </div>
        <div class="line"></div>
        <div class="userinfotitle">
          <h3>您即将出发的行程：</h3>
        </div>
        <div id="latest-results">
          <!-- Results will be appended here -->
        </div>
      </form>

      <!-- 搜索航班 -->
      <form id="flight-search" class="hidden">
        <div class="flighttitle">
          <h3>搜索你想要搜索的航班</h3>
        </div>
        <div class="line"></div>
        <div class="searchflightbox">
          <div class="searchflightinputbox">
            <span class="inputBox">
              <input type="text" id="leave" placeholder="出发地" />
            </span>
            <span class="arrow"><p>→</p></span>
            <span class="inputBox">
              <input type="text" id="arrive" placeholder="到达地" />
            </span>
            <span></span>
            <span class="inputBox">
              <input type="text" id="datetime" placeholder="时间（可选）" />
            </span>
          </div>
          <div class="inputBox">
            <input type="button" value="查询" onclick="searchFlights()" />
          </div>
        </div>
        <div class="line"></div>

        <div id="search-results" class="hidden">
          <!-- Results will be appended here -->
        </div>
        <div id="pagination" class="hidden page-button">
          <!-- Pagination buttons will be here -->
        </div>
      </form>

      <!-- 用户订单 -->
      <form id="user-order" class="hidden">
        <div class="ordertitle">
          <h3>你的订单如下所示:</h3>
        </div>
        <div class="line"></div>
        <div id="order-results">
          <!-- Results will be appended here -->
        </div>

        <div id="order-pagination" class="hidden page-button">
          <!-- Pagination buttons will be here -->
        </div>
      </form>

      <!-- 历史订单 -->
      <form id="user-history-order" class="hidden">
        <div class="historytitle">
          <h3>历史订单:</h3>
        </div>
        <div class="line"></div>
        <div id="history-order-results">
          <!-- Results will be appended here -->
        </div>
        <div id="history-order-pagination" class="hidden page-button">
          <!-- Pagination buttons will be here -->
        </div>
      </form>

      <!-- 修改信息 -->
      <form id="change-info" class="hidden">
        <div class="historytitle">
          <h3>个人信息按照现实填写：</h3>
        </div>
        <div class="line"></div>
        <div class="user-change-info-box">
          <p>
            姓名:
            <span class="infoBox"
              ><input type="text" id="iRealName" placeholder="八嘎呀路"
            /></span>
          </p>
          <p>
            性别:
            <span class="infoBox"
              ><input type="text" id="iSex" placeholder="八嘎呀路"
            /></span>
          </p>
          <p>
            生日:
            <span class="infoBox"
              ><input type="text" id="iBirth" placeholder="八嘎呀路"
            /></span>
          </p>
          <p>
            手机:
            <span class="infoBox"
              ><input type="text" id="iPhone" placeholder="八嘎呀路"
            /></span>
          </p>
          <p>
            邮箱:
            <span class="infoBox"
              ><input type="text" id="iEmail" placeholder="八嘎呀路"
            /></span>
          </p>
          <div class="inputBox">
            <input
              type="button"
              id="confirm-change-info"
              value="确认修改信息"
            />
          </div>
        </div>
        <div class="line"></div>
        <div class="user-change-password-box">
          <p>
            输入新密码：<span class="infoBox"
              ><input type="password" id="iPassword" placeholder="输入新密码"
            /></span>
          </p>
          <p>
            确认新密码：<span class="infoBox"
              ><input
                type="password"
                id="iConfirmPassword"
                placeholder="确认新密码"
            /></span>
          </p>

          <div class="inputBox">
            <input
              id="confirm-change-password"
              type="button"
              value="确认修改密码"
            />
          </div>
        </div>
        <div class="line"></div>
        <div class="user-charge-box">
          <p>您的余额：<span id="balance"></span></p>
          <span>输入充值：</span
          ><span class="infoBox"
            ><input type="text" id="iCharge" placeholder="输入充值金额"
          /></span>
          <div class="inputBox">
            <input id="confirm-charge-balance" type="button" value="确认充值" />
          </div>
        </div>
      </form>

      <!-- 小组任务 -->
      <form id="team-work" class="hidden">
        <div class="teamworktitle">
          <h3>以下是急需完成的任务：</h3>
        </div>
        <div class="line"></div>
        <div class="teamworksubtitle">
          <h3>存储过程&触发器：</h3>
        </div>
        <div class="teamtaskcontent">
          <p>
            1.写一个存储结构，GetFlightLowestPrice，参数是航班号（如AC108），返回的值是在flights_tickets表中该航班最便宜的票价
          </p>
          <p>2.根据用户名修改用户个人信息</p>
          <p>3.修改用户密码</p>
          <p>4.用存储过程实现简单加法，增加用户账户余额</p>
          <p>
            5.网站完善用户所有信息的功能：用户输入所有的user_data的内容，修改user_data表
          </p>
          <p>6.用户取消订单：根据用户名，删除order表里面用户的信息</p>
          <p>
            7.航班延迟功能：根据航班号和延迟时间，修改flight_schedule里的航班信息，actual_arrival里面的时间
          </p>
          <p>
            8.更新航班功能：刷新航班的actual_arrvial和actual_departure信息，然后更新状态为航线完成，并且更新订单信息
          </p>
          <p>9.增删用户：做一个触发器，删除用户会一并删除其他表里用户的信息</p>
          <p>
            10.增删航班：做一个触发器，删除航班或者flight会删除所有相关联的信息
          </p>
          <p>
            11.航班延迟触发器：当flight_schedules表里的actual_arrival更新后，自动计算delay_time，并且更新schedule_status为
            已出发
          </p>
          <p>
            12.航班到达触发器：当flight_schedules表里的actual_departure更新后，自动更新schedule_status为
            已到达
          </p>
        </div>
        <div class="line"></div>
        <div class="teamworksubtitle">
          <h3>可参考网站：</h3>
        </div>
        <div class="teamtaskcontent">
          <p>
            1.查看 https://flights.ctrip.com/schedule/bjs.sha.html
            网站，向表里写一些信息（可以多写点，要按照表的实际内容写，减少重复信息）
          </p>
        </div>
      </form>

      <!-- 航票信息 -->
      <form id="ticket-info" class="hidden">
        <div class="historytitle">
          <h3>航票信息如下：</h3>
        </div>
        <div class="line"></div>
        <div id="ticket-results">
          <!-- Results will be appended here -->
        </div>
      </form>

      <div class="footer">小组成员：灵 五 水 草</div>
    </div>

    <script src="js/userJS/user.js"></script>
    <script src="js/userJS/menu.js"></script>
    <script src="js/userJS/order.js"></script>
    <script src="js/userJS/search.js"></script>
    <script src="js/userJS/history.js"></script>
    <script src="js/userJS/changeInfo.js"></script>
  </body>
</html>
